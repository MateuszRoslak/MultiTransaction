<div class="card my-3">

  <div class="card-header">Your Cart</div>

  <div class="card-body">
    <% unless line_items.exists? %>
      <h3>Your shopping cart is empty!</h3>
    <% else %>
      <% currency = line_items.first.product.currency %>

      <div class="d-flex justify-content-between align-items-center">
        <dl class="row">
          <dt class="col-sm-2">Total items:</dt>
          <dd class="col-sm-9"><%= line_items.total_items %></dd>

          <dt class="col-sm-2">Discount granted:</dt>
          <dd class="col-sm-9 text-danger"><%= format_price(currency, line_items.total_discount_value) %></dd>

          <dt class="col-sm-2">Total net:</dt>
          <dd class="col"><%= format_price(currency, get_final_net(line_items)) %></dd>

          <dt class="col-sm-2">Total tax:</dt>
          <dd class="col"><%= format_price(currency, get_final_tax(line_items)) %></dd>

          <dt class="col-sm-2">Total value:</dt>
          <dd class="col"><%= format_price(currency, get_final_price(line_items)) %></dd>

        </dl>
        <%= button_to "Go to checkout", checkout_path, data: { turbo: false }, class: "btn btn-success" %>
      </div>
    <% end %>
  </div>
</div>